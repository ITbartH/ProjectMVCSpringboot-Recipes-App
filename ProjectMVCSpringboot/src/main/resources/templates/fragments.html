<!DOCTYPE html>
<html lang="en"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Fragments Site</title>
</head>
<body>

<div th:fragment="header-css">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/primary-css.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</div>

<div th:fragment="menu(param1)">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <ul class="navbar-nav mr-auto">

            <li th:classappend="${param1 eq 'home'}?'active'" class="nav-item">
                <a class="nav-link" th:href="@{/}">Home<span class="sr-only"></span></a>
            </li>
            <li th:classappend="${param1 eq 'list'}?'active'" class="nav-item" style="padding-left: 15px">
                <a class="nav-link" th:href="@{/recipe-list}">Lista przepis√≥w</a>
            </li>
            <li sec:authorize="isAuthenticated()" th:classappend="${param1 eq 'user'}?'active'" class="nav-item"
                style="padding-left: 15px">
                <a class="nav-link" th:href="@{/userDetails(id=${#authentication.getPrincipal().getId()})}">Panel
                    u≈ºytkownika</a>
            </li>

        </ul>
        <div sec:authorize=" isAuthenticated()" style="color:white; margin-right: 5px;">
            Jeste≈õ zalogowany jako, <span sec:authentication="name"/></span>
        </div>

        <div sec:authorize=" isAuthenticated()" style="margin-right: 10px;">
            <form th:action="@{/logout}" id="logout" th:method="post">
                <button type="submit" class="btn btn-light" th:href="@{/logout}">Wyloguj</button>
            </form>
        </div>

        <div sec:authorize=" isAnonymous()" style="margin-right: 10px;">
            <form th:action="@{/login}" id="login" th:method="post">
                <button type="submit" class="btn btn-light" th:href="@{/login}">Zaloguj</button>
            </form>
        </div>
    </nav>
</div>

<div th:fragment="recipelist">


    <form th:object="${recipeFilter}" th:unless="${#lists.isEmpty(recipes)}" th:action="@{/recipe-list}" method="get">
        <label for="filterX">Szukaj po:</label>
        <select th:field="*{filterX}" name="filterX" id="filterX">
            <option value="0">Nazwa</option>
            <option value="2">Czas</option>
            <option value="3">Data</option>
            <option value="4">Koszt</option>
            <option value="5">Sk≈Çadnik</option>
        </select>

        <input th:field="*{keyword}" id="txtSearch" type="text" name="keyword">
        <button class="btn btn-outline-secondary"
                style="background-color: rgba(255,255,255, 0.79) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); color: black;"
                type="submit">üîé Szukaj üîç
        </button>


        <label sec:authorize=" isAuthenticated()" for="filterY">Kategoria:</label>
        <select sec:authorize=" isAuthenticated()" th:field="*{filterY}" name="filterY" id="filterY">
            <option value="3">*wszystkie*</option>
            <option value="0">Desery</option>
            <option value="1">Makarony</option>
            <option value="2">Zupy</option>
        </select>

        <a th:href="@{/recipe-list}" class="btn btn-outline-secondary"
           style="background-color: rgba(255,255,255, 0.79) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); color: black;">üßπ
            Wyczy≈õƒá filtr üßπ</a> <br>

    </form>
    <hr>
    <span th:if="${#lists.isEmpty(recipes)}">Nie masz jeszcze ≈ºadnych przepis√≥w. Dodaj je teraz... <a
            th:href="@{recipe-list/recipe-form}">Dodaj przepis</a> </span>
    <br>
    <div th:unless="${#lists.isEmpty(recipes)}" class="CardsList">
        <div th:each="recipe: ${recipes}" th:object="${recipe}" class="card" style="width: 18rem">
            <div th:unless="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
                <img class="card-img-top" style="" th:unless="${recipe.fileContent == null}"
                     th:src="@{'data:image/jpeg;base64,'+${recipe.fileContentTo64}}"
                     th:href="@{recipe-list/recipe-details(id=*{id})}"/>
            </div>
            <div th:if="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
                <img class="card-img-top" style="" th:if="${recipe.fileContent == null}" src="/css/noimage.jpg"/>
            </div>
            <div class="card-body">
                <h5 style="font-weight: 700" th:text="*{name}" class="card-title"></h5>
                <a th:href="@{recipe-list/recipe-details(recipeId=*{id})}" class="card-text">Czytaj dalej...</a>
            </div>
            <ul class="list-group list-group-flush">
                <li th:text="'‚è≤Ô∏è ' + ${recipe.cookingTime} + 'h ‚è≤Ô∏è'" class="list-group-item"></li>
                <li th:text="'üí∞ ' + ${#numbers.formatDecimal(recipe.cost, 0, 'COMMA', 2, 'POINT')} + 'z≈Ç üí∞'"
                    class="list-group-item"></li>
                <li th:text="${recipe.vege ? 'ü•© Miƒôsne ü•©' : 'ü•¶ Bezmiƒôsne ü•¶'}" class="list-group-item"></li>
            </ul>
            <div sec:authorize="hasRole('ADMIN')" class="card-body">
                <a style="text-decoration: none" sec:authorize="hasRole('ADMIN')"
                   th:href="@{recipe-list/recipe-delete(did=*{id})}" class="card-link">‚ùå Usu≈Ñ przepis ‚ùå</a>
                <br>
                <a style="text-decoration: none" sec:authorize="hasRole('ADMIN')"
                   th:href="@{recipe-list/recipe-form(id=*{id})}" class="card-link">‚úèÔ∏è Edytuj przepis ‚úèÔ∏è</a>
            </div>
        </div>
    </div>
    <hr>
    <a sec:authorize="hasRole('ADMIN')" class="btn btn-success" th:href="@{recipe-list/recipe-form}">Dodaj przepis</a>
    <br><br>
    <a class="btn btn-primary" th:href="@{/}">Powr√≥t na stronƒô g≈Ç√≥wnƒÖ</a>
    <br><br><br>
</div>

<div th:fragment="recipesuccess">
    <br><br>
    <div class="contentBackground" style="width: 50%" th:object="${recipe}">
        <div th:unless="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
            <img style="max-width: 500px; max-height: 5000px; margin-right: auto; margin-left: auto; margin-top:5%; border-radius: 15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
                 th:unless="${recipe.fileContent == null}"
                 th:src="@{'data:image/jpeg;base64,'+${recipe.fileContentTo64}}"/>
        </div>
        <div th:if="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
            <img style="max-width: 500px; max-height: 5000px; margin-right: auto; margin-left: auto; margin-top:5%; border-radius: 15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
                 th:if="${recipe.fileContent == null}"
                 src="/css/noimage.jpg"/>
        </div>
        <br><br>
        <div>
            <div><h2 style="text-align: center; font-weight: 600" th:text="*{name}"></h2></div>
            <div>
                <h5 style="text-align: center;" th:text="*{category.name}"></h5>
            </div>

        </div>
        <br>
        <hr>
        <br>
        <h3 style="text-align: center; font-weight: 600">Pe≈Çny przepis:</h3>
        <p style="text-align: center; white-space: pre-wrap;" th:text="*{main_recipe}"></p>
        <br>
        <hr>
        <br>
        <h3 style="text-align: center; font-weight: 600">Sk≈Çadniki:</h3>
        <div id="ingList">
            <p style="text-align: center;" th:each="ingredient: *{ingredients}" th:text="${ingredient.ing_name}"></p>
        </div>
        <br>
        <hr>
        <br>
        <div id="detailsDiv">
            <div>
                <h3 style="text-align: center; font-weight: 600">Czas:</h3>
                <p style="text-align: center;" th:text="*{cookingTime} + 'h'"></p>
            </div>
            <div>

                <p style="text-align: center;"
                   th:text="'üí∞ ' + ${#numbers.formatDecimal(recipe.cost, 0, 'COMMA', 2, 'POINT')} + 'z≈Ç üí∞'"></p>
            </div>
            <div>
                <h3 style="text-align: center; font-weight: 600">Vege:</h3>
                <p style="text-align: center;" th:text="*{vege ? 'Tak' : 'Nie'}"></p>
            </div>
        </div>
    </div>
    <br><br>
    <div style="margin: auto; text-align: center">
        <a style="width: 100px;" class="btn btn-secondary" th:href="@{/recipe-list}">Powr√≥t</a>
    </div>
    <br><br>
</div>

<div th:fragment="usersuccess">
    <hr>
    <br>
    <div id="userSucc"
         style="padding: 2em; background-color: rgba(255,255,255, 0.79) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); width: 70%; margin: auto;">
        <h1>Dziƒôkujemy za rejestracjƒô, <span th:text="${user.username}"></span></h1>
    </div>
    <br>
    <hr>
    <br>
    <div style="margin: auto; text-align: center;">
        <a class="btn btn-secondary" th:href="@{/recipe-list}">Powr√≥t na liste przepisow</a>
    </div>
</div>

<div th:fragment="recipeDetails">

    <div style="margin: auto; padding: 2em; width: 50%; background-color: rgba(255,255,255, 0.86) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
         th:object="${recipe}">

        <div th:unless="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
            <img style="max-width: 500px; max-height: 5000px; margin-right: auto; margin-left: auto; margin-top:5%; border-radius: 15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
                 th:unless="${recipe.fileContent == null}"
                 th:src="@{'data:image/jpeg;base64,'+${recipe.fileContentTo64}}"/> <br><br>
            <p style="font-weight: 600;">Poziom trudno≈õci: <span style="color: red;"
                                                                 th:if="${recipe.difficulty} == 'easy'">üë®‚Äçüç≥</span>
                <span style="color: red;" th:if="${recipe.difficulty} == 'medium'">üë®‚Äçüç≥ üë®‚Äçüç≥</span> <span
                        style="color: red;" th:if="${recipe.difficulty} == 'hard'">üë®‚Äçüç≥ üë®‚Äçüç≥ üë®‚Äçüç≥</span></p>
        </div>
        <div th:if="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
            <img style="max-width: 500px; max-height: 5000px; margin-right: auto; margin-left: auto; margin-top:5%; border-radius: 15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
                 th:if="${recipe.fileContent == null}"
                 src="/css/noimage.jpg"/> <br><br>
            <p style="font-weight: 600;">Poziom trudno≈õci: <span style="color: red;"
                                                                 th:if="${recipe.difficulty} == 'easy'">üë®‚Äçüç≥</span>
                <span style="color: red;" th:if="${recipe.difficulty} == 'medium'">üë®‚Äçüç≥ üë®‚Äçüç≥</span> <span
                        style="color: red;" th:if="${recipe.difficulty} == 'hard'">üë®‚Äçüç≥ üë®‚Äçüç≥ üë®‚Äçüç≥</span></p>
        </div>
        <br>
        <div>
            <div><h2 style="text-align: center; font-weight: 600" th:text="*{name}"></h2></div>
            <div>
                <h5 style="text-align: center;" th:text="*{category.name}"></h5>
            </div>

        </div>
        <br>
        <hr>
        <br>
        <h3 style="text-align: center; font-weight: 600">Pe≈Çny przepis:</h3>
        <p style="text-align: center; white-space: pre-wrap;" th:text="*{main_recipe}"></p>
        <br>
        <hr>
        <br>
        <h3 style="text-align: center; font-weight: 600">Sk≈Çadniki:</h3>
        <div id="ingList">
            <p style="text-align: center;" th:each="ingredient: *{ingredients}" th:text="${ingredient.ing_name}"></p>
        </div>
        <br>
        <hr>
        <br>
        <div id="detailsDiv">
            <div>
                <h3 style="text-align: center; font-weight: 600">Czas:</h3>
                <p style="text-align: center;" th:text="*{cookingTime} + 'h'"></p>
            </div>
            <div>

                <p style="text-align: center;"
                   th:text="'üí∞ ' + ${#numbers.formatDecimal(recipe.cost, 0, 'COMMA', 2, 'POINT')} + 'z≈Ç üí∞'"></p>
            </div>
            <div>
                <h3 style="text-align: center; font-weight: 600">Z miƒôsem:</h3>
                <p style="text-align: center;" th:text="*{vege ? 'Tak' : 'Nie'}"></p>
            </div>
        </div>
    </div>
    <br>
    <hr>
    <div style="width: 85%; border: 2px solid #dcdcdc; margin: auto; background-color: #efefef;  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); ">
        <br><br>
        <h2 style="text-align: center" th:if="${#lists.isEmpty(comments)}">Brak komentarzy... BƒÖd≈∫ pierwszy i wyra≈∫
            swojƒÖ opiniƒô poni≈ºej!</h2>

        <div th:unless="${#lists.isEmpty(comments)}">

            <div th:each="comment: ${comments}" th:unless="${#lists.isEmpty(comments)}" class="card"
                 style="width: 90%; margin-left: auto; margin-right: auto; margin-bottom: 15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                <div class="card-header">
                    Dodane przez: [[${comment.commentUserName}]]
                </div>
                <div class="card-body">
                    <blockquote class="blockquote mb-0">
                        <p>[[${comment.commentText}]]</p>
                        <p class="blockquote-footer">[[${comment.commentDate}]]</p>
                    </blockquote>
                    <a sec:authorize="hasRole('ADMIN')"
                       th:href="@{/recipe-list/recipe-details-delete(recipeId=${recipe.id},did=${comment.id})}">‚ùå</a>
                </div>
            </div>
        </div>
        <br><br>
        <form th:method="POST" th:action="@{/recipe-list/recipe-details(recipeId=${recipe.id})}" th:object="${comment}"
              sec:authorize="isAuthenticated()"
              style="padding: 10px; border: 2px solid #dcdcdc; width: 60%; margin: auto;  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">

            <input type="hidden" th:value="${recipe.id}" th:name="commentRecipeId">
            <input type="hidden" th:value="${recipe.name}" th:name="commentRecipeName">
            Dodajesz jako:
            <input type="hidden" th:field="*{commentUserName}" sec:authentication='name'>
            <br>
            <label for="inputText" class="col-sm-2 col-form-label">Komentarz:</label>
            <textarea th:field="*{commentText}" id="inputText" rows="3" class="form-control" type="text"></textarea>
            <p th:if="${#fields.hasErrors('commentText')}" th:each="err : ${#fields.errors('commentText')}" th:text="${err}"></p>
            <br>
            <button class="btn btn-secondary" style="text-align: center; margin: auto" type="submit" value="Send Form">
                Dodaj komentarz
            </button>
        </form>
        <br><br>
    </div>
    <br><br>
</div>

<div th:fragment="recipeform" style="width: 80%; margin: auto; padding-top: 25px;">
    <form enctype="multipart/form-data" th:method="POST" th:object="${recipe}" th:action="@{/recipe-list/recipe-form}"
          class="form-group"
          style="background-color: #efefef; width: 40%; margin: auto; border: 2px solid #dcdcdc; border-radius: 15px; padding:15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">

        <input type="hidden" th:field="*{id}"/>

        <p style="text-align: center; font-weight: 600">Nazwa przepisu:</p> <input class="form-control" type="text"
                                                                                   th:field="*{name}"/>
        <span th:if="${#fields.hasErrors('name')}" th:each="err : ${#fields.errors('name')}" th:text="${err}"></span>
        <br>

        <br>
        <p style="text-align: center; font-weight: 600">G≈Ç√≥wny przepis:</p> <textarea rows="10" cols="40"
                                                                                      class="form-control" type="text"
                                                                                      th:field="*{main_recipe}"/>
        <span th:if="${#fields.hasErrors('main_recipe')}" th:each="err : ${#fields.errors('main_recipe')}"
              th:text="${err}"></span>
        <br>
        <div class="form-group">
            <label for="inputState">Kategoria:</label>
            <select class="form-control" id="inputState" th:field="*{category}">
                <option th:each="cat : ${categoryList}"
                        th:value="${cat.id}"
                        th:text=" ${cat.name}"
                />
            </select>
        </div>
        <label class="form-check-label" for="cookingtime" style="padding-right: 5px;">Czas:</label>
        <input id="cookingtime" class="form-control" style="width: 22%" type="text" th:field="*{cookingTime}"/>
        <span th:if="${#fields.hasErrors('cookingTime')}" th:each="err : ${#fields.errors('cookingTime')}"
              th:text="${err}"></span>
        <label class="form-check-label" for="cost" style="padding-right: 5px;">Koszt:</label>
        <input id="cost" class="form-control" style="width: 22%" type="text" th:field="*{cost}"/>
        <span th:if="${#fields.hasErrors('cost')}" th:each="err : ${#fields.errors('cost')}" th:text="${err}"></span>
        <br>
        <div class="form-group">
            <label for="inputSt">Poziom trudno≈õci:</label>
            <select id="inputSt" class="form-control" th:field="*{difficulty}">
                <option value="easy">≈Åatwy üë®‚Äçüç≥</option>
                <option value="medium">≈öredni üë®‚Äçüç≥üë®‚Äçüç≥</option>
                <option value="hard">Trudny üë®‚Äçüç≥üë®‚Äçüç≥üë®‚Äçüç≥</option>
            </select>
        </div>
        <div class="form-check form-check-inline">
            <label class="form-check-label" for="inlineCheckbox1" style="padding-right: 5px;">Z miƒôsem: </label>
            <input class="form-check-input" type="checkbox" th:field="*{vege}" id="inlineCheckbox1"/>
        </div>
        <br>
        <br>
        <label style="padding-right: 5px; text-align: center; font-weight: 600"
               class="form-check-label">Sk≈Çadniki</label>
        <br>
        <hr>
        <div class="col-sm-10">
            <div th:each="ing:${ingredientList}" class="custom-control custom-checkbox">
                <div th:if="${ing.id} == 1">
                    <p> Warzywa: </p>
                </div>
                <div>
                    <input type="checkbox" th:field="*{ingredients}" th:value="${ing.id}" class="custom-control-input"
                           th:id="${ing}">
                    <label class="custom-control-label" th:for="${ing}" th:text="${ing.ing_name}"></label>
                </div>
                <div th:if="${ing.id} == 6">
                    <br>
                    <hr>
                    <p> P√≥≈Çprodukty: </p>
                </div>
                <div th:if="${ing.id} == 13">
                    <br>
                    <hr>
                    <p> Produkty: </p>
                </div>

            </div>
            <small style="color: red" th:if="${#fields.hasErrors('ingredients')}"
                   th:each="err : ${#fields.errors('ingredients')}" th:text="${err}"/>
        </div>
        <br>
        <hr>
        <br>


        <div class="custom-file">
            <input type="file" name="multipartFile" class="custom-file-input" id="customFile"
                   accept=".gif,.png,.jpeg,.jpg">
            <label class="custom-file-label" for="customFile">Wybierz zdjƒôcie...</label>
        </div>
        <br><br>
        <button class="btn btn-secondary" style="margin: auto" type="submit" value="Send Form">Send form</button>
    </form>
</div>

<div th:fragment="userDetailsSuccess">
    <br>
    <div class="card" style="width: 24rem; margin: auto;">

        <div class="card-body">
            <h5 class="card-title">Nazwa u≈ºytkownika: [[${user.username}]]</h5>
            <p class="card-text" th:each="authority : ${#authentication.getAuthorities()}"
               th:if="${authority.getAuthority().startsWith('ROLE_')}"
               th:text="${authority.getAuthority().replaceFirst('ROLE_', 'Role: ')}">
            </p>
        </div>

        <ul class="list-group list-group-flush">

            <li class="list-group-item">
                Imie: <p id="firstNameText" th:field="${user.firstname}">
            </li>
            <li class="list-group-item">
                Nazwisko: <p id="lastNameText" th:field="${user.lastname}">
            </li>
            <li class="list-group-item">
                Email: <p id="emailText" th:field="${user.email}">
            </li>

        </ul>
        <br>
        <div class="card-body">

        </div>

    </div>
</div>

<div th:fragment="userDetails">

    <br>
    <div style="width: 40%; padding: 2em; margin: auto; text-align: center; font-weight: 600; background-color: rgba(255,255,255, 0.89) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
         th:if="${#authentication.getPrincipal().getId() != user.id}">
        <h2>Ups.. Raczej nie powinno Ciƒô tutaj byƒá!</h2>
    </div>
    <div th:if="${#authentication.getPrincipal().getId() == user.id}">
        <div class="card" style="width: 24rem; margin: auto;">
            <br>
            <div th:if="${user.fileContent != null}" style="margin: auto; text-align: center;">
                <img style="max-height: 12rem;" class="card-img-top" th:unless="${user.fileContent == 'null'}"
                     th:src="@{'data:image/jpeg;base64,'+${user.fileContentTo64}}"/>
            </div>
            <div th:if="${user.fileContent == null}" style="margin: auto; text-align: center;">
                <img style="max-height: 12rem;" class="card-img-top" src="/css/noimage.jpg"/>
            </div>
            <hr>
            <div class="card-body">
                <h3 class="card-title" style="text-align: center;">Nazwa u≈ºytkownika</h3>
                <h5 style="text-align: center;">[[${user.username}]]</h5>
                <br>
                <h3 class="card-title" style="text-align: center;">Rola</h3>
                <p class="card-text" style="text-align: center;"
                   th:each="authority : ${#authentication.getAuthorities()}"
                   th:if="${authority.getAuthority().startsWith('ROLE_')}"
                   th:text="${authority.getAuthority().replaceFirst('ROLE_', '')}">
                </p>
            </div>
            <form enctype="multipart/form-data" th:method="POST"
                  th:action="@{/userDetails(id=${#authentication.getPrincipal().getId()})}" th:object="${user}">
                <ul class="list-group list-group-flush">
                    <input type="hidden" th:field="${user.username}">
                    <input type="hidden" th:field="${user.password}">

                    <table class="table">
                        <tr>
                            <td>
                                Imie:
                            </td>
                            <td>
                                <span th:if="${user.firstname} != null">[[${user.firstname}]]</span> <span
                                    th:if="${user.firstname} == null or ${user.firstname} == ''">nie podano...</span>
                                <input
                                        class="form-control" id="firstname_input" type="hidden"
                                        th:field="${user.firstname}">
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Nazwisko:
                            </td>
                            <td>
                                <span th:if="${user.lastname} != null">[[${user.lastname}]]</span> <span
                                    th:if="${user.lastname} == null or ${user.lastname} == ''">nie podano...</span>
                                <input
                                        class="form-control" id="lastname_input" type="hidden"
                                        th:field="${user.lastname}">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Email:
                            </td>
                            <td>
                                <span th:if="${user.email} != null">[[${user.email}]]</span> <span
                                    th:if="${user.email} == null or ${user.email} == ''">nie podano...</span> <input
                                    class="form-control" id="email_input" type="hidden" th:field="${user.email}">
                            </td>
                        </tr>
                    </table>
                </ul>
                <input style="margin-left: 1rem; display: none;" id="file_input" type="file" name="multipartFile"
                       accept=".gif,.png,.jpeg,.jpg">
                <br>
                <button style="display: none; margin: auto;" type="submit" class="card-link, btn btn-dark"
                        id="postEditUser">Aktualizuj
                </button>

            </form>
            <div class="card-body">
                <button onclick="myFunction()" class="card-link, btn btn-dark" id="editUser">Edytuj</button>
                <br><br>
                <a class="btn btn-dark" th:href="@{/recipeBook(userId=${user.id})}">Moje ksiƒÖ≈ºki</a>
                <br><br>
                <a sec:authorize="hasRole('ADMIN')" class="btn btn-danger" th:href="@{/userList}">Panel
                    administratora</a>

            </div>
        </div>
        <br><br>

        <div style="width: 85%; border: 2px solid #dcdcdc; margin: auto; background-color: #efefef;  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); ">
            <br>
            <h2 style="text-align: center"> Twoje komentarze </h2>
            <hr>
            <br>
            <h3 style="text-align: center" th:if="${#lists.isEmpty(comments)}">Nie doda≈Çe≈õ jeszcze ≈ºadnych
                komentarzy...</h3>
            <br>
            <div th:unless="${#lists.isEmpty(comments)}">
                <div th:each="comment: ${comments}" th:unless="${#lists.isEmpty(comments)}" class="card"
                     style="width: 90%; margin-left: auto; margin-right: auto; margin-bottom: 15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                    <div class="card-header">
                        Dodane do przepisu: <a
                            th:href="@{recipe-list/recipe-details(recipeId=${comment.commentRecipeId})}">[[${comment.commentRecipeName}]]</a>
                    </div>
                    <div class="card-body">
                        <blockquote class="blockquote mb-0">
                            <p>[[${comment.commentText}]]</p>
                            <p class="blockquote-footer">[[${comment.commentDate}]]</p>
                        </blockquote>
                        <a sec:authorize="hasRole('ADMIN')"
                           th:href="@{/recipe-list/recipe-details-delete(recipeId=${comment.commentRecipeId},did=${comment.id})}">‚ùå</a>
                    </div>
                </div>
            </div>
            <br>
        </div>
    </div>
</div>

<div th:fragment="userform" style="width: 50%; margin: auto; padding-top: 25px;">
    <form th:method="POST" th:object="${user}" th:action="@{/user-form}" class="form-group"
          style="background-color: #efefef; width: 40%; margin: auto; border: 2px solid #dcdcdc; border-radius: 15px; padding:15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">

        <input type="hidden" th:field="*{id}"/>

        Nazwa u≈ºytkownika: <input class="form-control" type="text" th:field="*{username}"/>
        <span th:if="${#fields.hasErrors('username')}" th:each="err : ${#fields.errors('username')}"
              th:text="${err}"></span>
        <br>
        Has≈Ço: <input class="form-control" type="password" th:field="*{password}"/>
        <span th:if="${#fields.hasErrors('password')}" th:each="err : ${#fields.errors('password')}"
              th:text="${err}"></span>
        <br>
        Potwierd≈∫ has≈Ço: <input class="form-control" type="password" th:field="*{passwordConfirm}"/>
        <span th:if="${#fields.hasErrors('passwordConfirm')}" th:each="err : ${#fields.errors('passwordConfirm')}"
              th:text="${err}"></span>
        <br>
        <div style="margin: auto; text-align: center;">
            <button class="btn btn-dark" style="margin: auto; text-align: center;" type="submit" value="Send Form">
                Zarejestruj siƒô
            </button>
        </div>
    </form>
</div>

<div th:fragment="recipeBook">
    <br>
    <div style="width: 40%; padding: 2em; margin: auto; text-align: center; font-weight: 600; background-color: rgba(255,255,255, 0.89) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"
         th:if="${#authentication.getPrincipal().getId() != user.id}">
        <h2>Ups.. Raczej nie powinno Ciƒô tutaj byƒá!</h2>
    </div>
    <div th:if="${#authentication.getPrincipal().getId() == user.id}">
        <div class="BooksList">
            <div th:each="book: ${recipeBooks}" th:unless="${#lists.isEmpty(recipeBooks)}" class="card"
                 style="width: 18rem;">
                <img class="card-img-top" src="/css/recipeBook.jpg">
                <div class="card-body">
                    <h5 class="card-title" style="text-align: center">[[${book.bookName}]] <a
                            style="text-align: center;"
                            th:href="@{recipeBook-delete(did=${book.id}, userId=${user.id})}">‚ùå</a>
                    </h5>

                    <br><br>
                    <p class="card-text" style="font-weight: 600">Opis:</p>
                    <p class="card-text" style="margin-left: 10px;">[[${book.bookDescription}]]</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li th:each="recipe: ${book.recipes}" class="list-group-item">
                        <a th:href="@{recipe-list/recipe-details(recipeId=${recipe.id})}">[[${recipe.name}]]</a>
                    </li>
                </ul>
            </div>
        </div>
        <br>
        <hr>
        <br>
        <div style="width: 85%; border: 2px solid #dcdcdc; margin: auto; background-color: rgba(255,255,255, 0.89) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); ">
            <br>
            <h2 style="text-align: center" th:if="${#lists.isEmpty(recipeBooks)}">Nie masz ≈ºadnej ksiƒÖ≈ºki...</h2>
            <br>
            <br>
            <div th:if="${#lists.isEmpty(recipeList)}"
                 style="padding: 10px; border: 2px solid #dcdcdc; width: 60%; margin: auto;  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                <br>
                <h2 style="text-align: center" th:if="${#lists.isEmpty(recipeBooks)}">Aktualnie brak przepis√≥w do
                    dodania...
                    Wr√≥ƒá p√≥≈∫niej!</h2>
                <br>
            </div>

            <form th:unless="${#lists.isEmpty(recipeList)}" th:method="POST"
                  th:action="@{/recipeBook(userId=${user.id})}"
                  th:object="${recipeBook}" sec:authorize="isAuthenticated()"
                  style="background-color: #efefef; padding: 2em; border: 2px solid #dcdcdc; width: 60%; margin: auto;  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                <h3 style="text-align: center">Nowa ksiƒÖ≈ºka</h3>
                <br>
                <hr>
                <input type="hidden" th:name="bookUserName" th:value="${user.username}">
                <label style="font-weight: 600;" for="inputBookName">Nazwa ksiƒÖ≈ºki</label>
                <input style="max-width: 30%;" id="inputBookName" type="text" class="form-control"
                       th:field="${recipeBook.bookName}"> <br><br>
                <p th:if="${#fields.hasErrors('bookName')}" th:each="err : ${#fields.errors('bookName')}" th:text="${err}"></p>

                <label style="font-weight: 600;" for="textareaBookDesc">Kr√≥tki opis</label>
                <textarea style="max-width: 50%;" th:field="${recipeBook.bookDescription}" class="form-control"
                          id="textareaBookDesc" rows="3"></textarea>
                <p th:if="${#fields.hasErrors('bookDescription')}" th:each="err : ${#fields.errors('bookDescription')}" th:text="${err}"></p>

                <div th:each="recipe:${recipeList}" class="custom-control custom-checkbox">
                    <div>
                        <input type="checkbox" th:field="*{recipes}" th:value="${recipe.id}"
                               class="custom-control-input"
                               th:id="${recipe}">
                        <label class="custom-control-label" th:for="${recipe}" th:text="${recipe.name}"></label>
                    </div>
                </div>

                <br>
                <button class="btn btn-secondary" style="text-align: center; margin: auto" type="submit"
                        value="Send Form">
                    Zapisz ksiƒÖ≈ºkƒô
                </button>
            </form>
            <br><br>
        </div>

    </div>
</div>

<div th:fragment="mostCommentedList">
    <div th:unless="${#lists.isEmpty(mostCommentedRecipes)}" class="CardsList mb-5">
        <div th:each="recipe,ite: ${mostCommentedRecipes}" th:object="${recipe}" class="card" style="width: 18rem">
            <div th:unless="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
                <img class="card-img-top" style="width: 18rem; height: 14rem" th:unless="${recipe.fileContent == null}"
                     th:src="@{'data:image/jpeg;base64,'+${recipe.fileContentTo64}}"
                     th:href="@{recipe-list/recipe-details(id=*{id})}"/>
            </div>
            <div th:if="${recipe.fileContent == null}" style="margin: auto; text-align: center;">
                <img class="card-img-top" style="width: 18rem; height: 14rem" th:if="${recipe.fileContent == null}"
                     src="/css/noimage.jpg"/>
            </div>
            <div class="card-body">
                <h3 th:if="${ite.index == 0}">‚≠ê‚≠ê‚≠ê</h3>
                <h3 th:if="${ite.index == 1}">‚≠ê‚≠ê</h3>
                <h3 th:if="${ite.index == 2}">‚≠ê</h3>
                <h5 style="font-weight: 700" th:text="*{name}" class="card-title"></h5>
                <a th:href="@{recipe-list/recipe-details(recipeId=*{id})}" class="card-text">Czytaj dalej...</a>
            </div>
            <ul class="list-group list-group-flush">
                <li th:text="'‚è≤Ô∏è ' + ${recipe.cookingTime} + 'h ‚è≤Ô∏è'" class="list-group-item"></li>
                <li th:text="'üí∞ ' + ${#numbers.formatDecimal(recipe.cost, 0, 'COMMA', 2, 'POINT')} + 'z≈Ç üí∞'"
                    class="list-group-item"></li>
                <li th:text="${recipe.vege ? 'ü•© Miƒôsne ü•©' : 'ü•¶ Bezmiƒôsne ü•¶'}" class="list-group-item"></li>
                <p style="margin-bottom: 0px;">Komentarze: <span
                        style="font-weight: 600">[[${recipe.commentsCount}]]</span></p>
            </ul>
            <div sec:authorize="hasRole('ADMIN')" class="card-body">
                <a style="text-decoration: none" sec:authorize="hasRole('ADMIN')"
                   th:href="@{recipe-list/recipe-delete(did=*{id})}" class="card-link">‚ùå Usu≈Ñ przepis ‚ùå</a>
                <br>
                <a style="text-decoration: none" sec:authorize="hasRole('ADMIN')"
                   th:href="@{recipe-list/recipe-form(id=*{id})}" class="card-link">‚úèÔ∏è Edytuj przepis ‚úèÔ∏è</a>
            </div>
        </div>
    </div>
</div>

<div th:fragment="indexFragment">
    <br>
    <div style="display: flex; text-align:justify; align-items: flex-start; grid-template-columns: repeat(3, 1fr); gap: 2em; padding: 2em; background-color: rgba(255,255,255, 0.79) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
        <div>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc placerat mi sit amet quam hendrerit, id
                malesuada nunc molestie. Ut lacus ante, ullamcorper in dolor non, tempus sagittis nisl. Curabitur
                pellentesque ullamcorper mauris, et posuere ante fringilla sit amet. Vivamus feugiat enim ac risus
                imperdiet, in rutrum mauris tincidunt. Aenean pharetra vel elit vel venenatis. Sed ut gravida leo.
                Phasellus lobortis commodo sem vel placerat.

            <p>Donec eleifend finibus imperdiet. Ut ac arcu risus. Praesent accumsan feugiat nunc in lacinia. Proin
                malesuada nec eros non bibendum. Donec tempor magna eros, id interdum arcu varius eu. Nullam et
                consequat felis. Morbi nec cursus felis, eu bibendum lacus. Mauris viverra faucibus dolor nec facilisis.
                Duis viverra nisl bibendum ante efficitur, at placerat quam mollis. Donec quis urna non leo consectetur
                euismod eu non velit. Integer mollis augue ac nibh tempor, at vulputate ligula ornare. Aliquam quis odio
                metus. Donec augue odio, pharetra ut lacus nec, hendrerit accumsan turpis.
        </div>
        <div>
            <p>Vestibulum tincidunt dolor non tellus blandit, non sollicitudin mauris iaculis. Ut dapibus ornare leo,
                sit amet tempor nibh eleifend vel. Ut eget nisl et ante interdum ultrices. Donec at dolor eget quam
                ullamcorper gravida vel ut mi. Etiam pulvinar eleifend felis, at feugiat diam iaculis ac. Aliquam
                aliquet dolor eget nunc accumsan, eu auctor massa congue. Vivamus ipsum tellus, molestie id finibus
                quis, posuere ut ex. Pellentesque sed ante vehicula, venenatis nunc ut, varius ligula.

            <p>Curabitur sollicitudin enim a magna lobortis, sit amet laoreet ante placerat. Sed id urna tincidunt,
                aliquam nisi vel, sodales nibh. Ut molestie gravida justo vitae luctus. Donec facilisis, velit et
                faucibus varius, risus arcu porttitor eros, vel placerat sem turpis ut dui. Cras ut orci eu risus
                porttitor lacinia. Duis bibendum velit vitae mattis condimentum. Cras nunc felis, luctus sed finibus eu,
                suscipit a odio. Aliquam porta augue in nisl luctus, non pharetra dui fermentum. Donec ut gravida nibh.
        </div>
        <div>
            <p>Sed cursus enim ut augue efficitur, ac semper urna ornare. Nulla eget est in augue rhoncus venenatis.
                Aliquam sollicitudin nisi at erat lacinia iaculis. In bibendum ipsum nulla, ut viverra lacus venenatis
                vel. Donec pretium nibh in nisi tincidunt condimentum. Duis orci nisl, feugiat vitae enim vel, cursus
                finibus ipsum. Mauris non magna nec ex faucibus ultricies. Proin ac mauris et velit tristique viverra
                interdum sed lectus. Donec bibendum mi sit amet ipsum vulputate, ut mattis libero malesuada. Praesent
                nec eros vitae urna placerat viverra. Etiam dictum tristique turpis sit amet porta.
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc placerat mi sit amet quam hendrerit, id
                malesuada nunc molestie. Ut lacus ante, ullamcorper in dolor non, tempus sagittis nisl. Curabitur
                pellentesque ullamcorper mauris, et posuere ante fringilla sit amet. Vivamus feugiat enim ac risus
                imperdiet, in rutrum mauris tincidunt.
        </div>


    </div>
    <br>
    <hr>
    <br>
    <h2 style="font-family: 'Lato', sans-serif; font-weight: 600">Najczƒô≈õciej komentowane wpisy</h2>
    <br>
    <hr>
    <br>
</div>

<div th:fragment="userList" sec:authorize="hasRole('ADMIN')">
    <div style="width: 85%; padding: 2em; border: 2px solid #dcdcdc; margin: auto; background-color: rgba(255,255,255, 0.92) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); ">
        <h2 style="text-align: center; padding: 1em;">Lista u≈ºytkownik√≥w</h2>
        <button style="margin: auto;" class="btn btn-secondary" id="userListBtn" onClick="myFunction()">Poka≈º listƒô
        </button>
        <br><br>
        <table id="tableUser" style="text-align: center; display: none" class="table"
               th:unless="${#lists.isEmpty(usersList)}">
            <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Nazwa</th>
                <th scope="col">Email</th>
                <th scope="col">Imiƒô</th>
                <th scope="col">Nazwisko</th>
                <th scope="col">Role</th>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user: ${usersList}" th:object="${user}">
                <th scope="row">[[${user.id}]]</th>
                <td>[[${user.username}]]</td>
                <td th:if="${user.email} != null">[[${user.email}]]</td>
                <td th:if="${user.email} == null" style="font-weight: 600"> -</td>
                <td th:if="${user.firstname} != null">[[${user.firstname}]]</td>
                <td th:if="${user.firstname} == null" style="font-weight: 600"> -</td>
                <td th:if="${user.lastname} != null">[[${user.lastname}]]</td>
                <td th:if="${user.lastname} == null" style="font-weight: 600"> -</td>
                <td>[[${user.rolesToString}]]</td>
                <td><a th:href="@{/userDelete(did=*{id})}">‚ùå</a></td>
                <td>
                    <a th:href="@{/editUser(id=${user.id})}">Edit</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <br><br>
    <div style="display: flex; text-align:justify; align-items: flex-start; gap: 2em; padding: 2em; width: 80%; margin: auto;">
        <div style="width: 50%; padding: 2em; border: 2px solid #dcdcdc; margin: auto; margin-top: 0px; background-color: rgba(255,255,255, 0.92) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); ">
            <h2 style="text-align: center; padding: 1em;">Sk≈Çadniki</h2>
            <button style="margin: auto;" class="btn btn-secondary" id="ingredientBtn" onClick="myFunction2()">Poka≈º
                listƒô
            </button>
            <br><br>
            <table id="tableIng" class="table" th:unless="${#lists.isEmpty(ingredientList)}" style="display: none">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nazwa</th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="ing: ${ingredientList}" th:object="${ingredient}">
                    <th scope="row">[[${ing.id}]]</th>
                    <td>[[${ing.ing_name}]]</td>

                    <td><a th:href="@{/deleteIngredient(did=${ing.id})}">‚ùå</a></td>

                </tr>
                <tr>
                    <th scope="row">?</th>
                    <td>
                        <form th:method="POST" th:action="@{/addIngredient}" th:object="${ingredient}">
                            <input style="width: 20%" type="text" class="form-control"
                                   th:field="${ingredient.ing_name}">
                            <p th:if="${#fields.hasErrors('ing_name')}" th:each="err : ${#fields.errors('ing_name')}" th:text="${err}"></p>
                            <br>
                            <button type="submit" class="btn btn-secondary" style="margin: auto;">Dodaj</button>
                        </form>
                    </td>
                </tr>

                </tbody>
            </table>
        </div>

        <div style="width: 50%; padding: 2em; border: 2px solid #dcdcdc; margin: auto;margin-top: 0px; background-color: rgba(255,255,255, 0.92) ;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); ">
            <h2 style="text-align: center; padding: 1em;">Kategorie</h2>
            <button class="btn btn-secondary" id="categoryBtn" onClick="myFunction3()">Poka≈º listƒô</button>
            <br><br>
            <table id="tableCat" class="table" th:unless="${#lists.isEmpty(categoryList)}" style="display: none">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nazwa</th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="cat: ${categoryList}" th:object="${category}">
                    <th scope="row">[[${cat.id}]]</th>
                    <td>[[${cat.name}]]</td>
                    <td><a th:href="@{/deleteCategory(did=${cat.id})}">‚ùå</a></td>

                </tr>
                <tr>
                    <th scope="row">?</th>
                    <td>
                        <form th:method="POST" th:action="@{/addCategory}" th:object="${category}">
                            <input style="width: 20%" type="text" class="form-control" th:field="${category.name}">
                            <p th:if="${#fields.hasErrors('name')}" th:each="err : ${#fields.errors('name')}" th:text="${err}"></p>
                            <br>
                            <button type="submit" class="btn btn-secondary" style="margin: auto;">Dodaj</button>
                        </form>
                    </td>
                </tr>

                </tbody>
            </table>
        </div>
    </div>
</div>
<div th:fragment="editUser">
    <br>
    <form th:method="POST" th:action="@{/editUser(id=${user.id})}" th:object="${user}"
          style="width: 40%;padding: 2em; border: 2px solid #dcdcdc; margin: auto; background-color: #efefef;  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); ">
        <input type="hidden" th:field="${user.username}">
        <input type="hidden" th:field="${user.password}">
        <div class="card" style="width: 20rem; margin: auto;">
            <div th:if="${user.fileContent != null}" style="margin: auto; text-align: center;">
                <img style="max-height: 12rem;" class="card-img-top" th:unless="${user.fileContent == 'null'}"
                     th:src="@{'data:image/jpeg;base64,'+${user.fileContentTo64}}"/>
            </div>
            <div th:if="${user.fileContent == null}" style="margin: auto; text-align: center;">
                <img style="max-height: 12rem;" class="card-img-top" src="/css/noimage.jpg"/>
            </div>
            <div class="card-body">
                <h3 class="card-title" style="text-align: center;">Nazwa u≈ºytkownika</h3>
                <h5 style="text-align: center;">[[${user.username}]]</h5>
                <br>
                <h3 class="card-title" style="text-align: center;">Rola</h3>
                <p class="card-text" style="text-align: center;"
                   th:each="authority : ${#authentication.getAuthorities()}"
                   th:if="${authority.getAuthority().startsWith('ROLE_')}"
                   th:text="${authority.getAuthority().replaceFirst('ROLE_', '')}">
                </p>
            </div>
            <ul class="list-group list-group-flush">
                <table class="table">
                    <tr>
                        <td>
                            Imie:
                        </td>
                        <td>
                            <span th:if="${user.firstname} != null">[[${user.firstname}]]</span> <span
                                th:if="${user.firstname} == null or ${user.firstname} == ''">nie podano...</span>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            Nazwisko:
                        </td>
                        <td>
                            <span th:if="${user.lastname} != null">[[${user.lastname}]]</span> <span
                                th:if="${user.lastname} == null or ${user.lastname} == ''">nie podano...</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Email:
                        </td>
                        <td>
                            <span th:if="${user.email} != null">[[${user.email}]]</span> <span
                                th:if="${user.email} == null or ${user.email} == ''">nie podano...</span>
                        </td>
                    </tr>
                </table>
            </ul>
        </div>
        <br>
        <hr>
        <br>
        <div class="form-group">
            <h3 style="text-align: center;">Konto aktywne</h3>
            <input th:field="${user.enabled}" type="checkbox" class="form-control" id="inp"
                   style="width: 2rem; margin: auto;">
        </div>
        <div class="form-group">
            <label for="inpName">Imiƒô</label>
            <input th:field="${user.firstname}" type="text" class="form-control" id="inpName">
        </div>
        <div class="form-group">
            <label for="inpLastname">Nazwisko</label>
            <input th:field="${user.lastname}" type="text" class="form-control" id="inpLastname">
        </div>
        <div class="form-group">
            <label for="inpEmail">Email</label>
            <input th:field="${user.email}" type="email" class="form-control" id="inpEmail">
        </div>
        <div th:each="role:${rolesList}" class="custom-control custom-checkbox">
            <div>
                <input type="checkbox" th:field="*{roles}" th:value="${role.id}" class="custom-control-input"
                       th:id="${role}">
                <label class="custom-control-label" th:for="${role}" th:text="${role.type}"></label>
            </div>
        </div>
        <br>
        <button type="submit" class="btn btn-secondary" style="margin: auto;" th:href="@{/editUser}">Potwierd≈∫</button>
    </form>
</div>
<footer th:fragment="footer" class="bg-dark text-center text-lg-start mt-auto">
    <!-- Copyright -->
    <div class="text-center p-3 text-light" style="background-color: rgba(0, 0, 0, 0.2);">
        ¬© 2021 Platformy Programowania
        <!--        <div sec:authorize=" isAuthenticated()">-->
        <!--            <span>Role: </span>-->
        <!--            <span th:each="role: ${#authentication.getAuthorities()}">-->
        <!--                    <span style="margin-right: 0px;" th:text="${role.type}"/>-->
        <!--              </span>-->
        <!--        </div>-->
    </div>
    <!-- Copyright -->
</footer>

</body>
</html>